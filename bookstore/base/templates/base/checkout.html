{% extends 'main.html' %}
{% block content %}
<div><a href="{% url 'cart' %}"><button class="back-to-cart"><i class="fa fa-angle-left"></i> Back</button></a></div>
<div class="checkout-container">
    <div class="checkout-box" style="flex: 1;">
        <form action="" method="post" id="form">
            <h3>USER DETAILS</h3>
            <div class="hr">
                <hr>
            </div>
            <div class="user-info">
                <div class="form-field">
                    <label for="">NAME</label>
                    <input type="text" name="name" placeholder="Name..">
                </div>
                <div class="form-field">
                    <label for="">EMAIL</label>
                    <input type="email" name="email" placeholder="Email..">
                </div>
            </div>
    
            <br>
            <h3>SHIPPING DETAILS</h3>
            <div class="hr">
                <hr>
            </div>
            <div class="shipping-info">
                <div>
                    <div class="form-field">
                        <label for="">ADDRESS</label>
                        <input type="text" name="address" placeholder="Address..">
                    </div>
                    <div class="form-field">
                        <label for="">CITY</label>
                        <input type="text" name="city" placeholder="City..">
                    </div>
                    <div class="form-field">
                        <label for="">STATE</label>
                        <input type="text" name="state" placeholder="State..">
                    </div>
                </div>
                <div>
                    <div class="form-field">
                        <label for="">ZIPCODE</label>
                        <input type="text" name="zipcode" placeholder="Zipcode..">
                    </div>
                    <div class="form-field">
                        <label for="">COUNTRY</label>
                        <input type="text" name="country" placeholder="Country..">
                    </div>
                </div>
            </div>
            <div class="continue-wrapper">
                <input type="submit" value="Continue" class="checkout-continue" id="form-btn">
            </div>

            <!-- payment method -->
            <div class="payment hidden" id="payment-method">
                <h3>PAYMENT METHOD</h3>
                <div class="hr">
                    <hr>
                </div>
            </div>
            
        </form>
    </div>
    <div class="checkout-second-container" style="flex: 1;">
        <div class="checkout-box summary">
            <h3>YOUR ORDER</h3>
            <!-- break line -->
            <div class="hr">
                <hr>
            </div>

            <div class="cart-row">
                <div style="flex: 2;"></div>
                <div style="flex: 2;"><strong>Item</strong></div>
                <div style="flex: 1;"><strong>Price</strong></div>
                <div style="flex: 1;"><strong>Quantity</strong></div>
                <div style="flex: 1;"><strong>Total</strong></div>
            </div>
            <!-- break line -->
            <div class="hr">
                <hr>
            </div>
            {% for item in items %}
            <div class="cart-row">
                <div style="flex: 2;"><img class="img-row" src="{{item.book.image.url}}" alt=""></div>
                <div style="flex: 2;">{{item.book}}</div>
                <div style="flex: 1;">${{item.book.price}}</div>
                <div style="flex: 1;" class="">
                    <div class="quantity">
                        <div>
                            <p>{{item.quantity}}</p>
                        </div>
                    </div>
                </div>
                <div style="flex: 1;">${{item.get_total_price}}</div>
            </div>
            {% endfor %}
            <div class="hr">
                <hr>
            </div>

            <div class="total-detail">
                <div class="wrapper">
                    <div class="left"><p>Subtotal</p></div>
                    <div class="right"><p>${{order.get_total_price}}</p></div>
                </div>
                <div class="wrapper">
                    <div class="left"><p>Shipping</p></div>
                    <div class="right"><p>$0</p></div>
                </div>
                <div class="wrapper">
                    <div class="left"><strong>Total</strong></div>
                    <div class="right"><p>${{order.get_total_price}}</p></div>
                </div>
            </div>
            <div class="hr">
                <hr>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript" >
    var form = document.getElementById('form')
    form.addEventListener('submit', function(e){
        e.preventDefault()
        console.log('Form is submitted...')
        document.getElementById('form-btn').classList.add('hidden')
        document.getElementById('payment-method').classList.remove('hidden')
    })
    
</script>
{% endblock %}